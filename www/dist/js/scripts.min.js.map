{"version":3,"sources":["_auth.js","_functions.js","_socketSetup.js","_config.js","_init.js","scripts.js"],"names":["onAuth","authed","logText","modalMessage","setTimeout","$","modal","render","allCuts","renderDirectives","prop","attr","config","logout","onFailedauth","socketSend","action","onDeauth","login","authactions","indexOf","draggable","draggabilly","ensureNumberStringLength","number","len","repeat","String","length","text","currentTime","Date","currentDay","getDate","currentMonth","months","getMonth","currentYear","getFullYear","currentHours","getHours","currentMinutes","getMinutes","currentSeconds","getSeconds","timestamp","format","devLog","textArray","split","i","prepend","window","console","log","populateActions","each","index","el","uuid","unbind","isTouchDevice","tooltip","click","googleAnalytics","this","parents","args","axis","container","on","addClass","event","pointer","removeClass","parseInt","Math","round","data","position","y","modalTitle","modalBody","html","resetForm","form","find","val","removeAttr","selector","jdata","SID","socket","readyState","sid","send","JSON","stringify","changeAttr","taskid","attrKey","attrVal","rickRoll","easterEggs","DocumentTouch","document","s","o","g","r","a","m","google_analytics_key","ga","socketSetup","host","WebSocket","onopen","setInterval","CONNECTING","refreshRate","onmessage","msg","jsonData","parse","oldJsonData","extend","admin_mode_enabled","auths","substring","deauths","queue","arrayIndex","arrayEl","displayEl","material","materials","priority","priorities","timetotal","esttime","hours","floor","minutes","seconds","toFixed","output","concat","allow_force_refresh","location","reload","onerror","error","origin","random","getConfigFile","reconnectRate","buttons","params","coachmodified","modified_hover","actions","Object","keys","button","pass_depth","v1","getJSON","responseJSON","dev_log","remove","port","easter_eggs","default_material","append","material_input","selected","priority_choose","priority_input","p","disabled","default_priority","priority_selection","name_input","time_input","name_hover","time_hover","material_hover","priority_hover","action_header","name_header","material_header","time_header","priority_header","remove_hover","increment","incr_hover","decrement","decr_hover","pass","pass_hover","relmove","drag_hover","focus","submit","preventDefault","sha1","q","push","arguments","l","createElement","getElementsByTagName","async","src","parentNode","insertBefore","cookieDomain","CLOSED","prototype","replace","match","count","TypeError","str","Infinity","RangeError","rpt","ajax","url","type","done","request","before","marked","fail","ready","clickAction","estimate","easterEgg","Konami","code","load"],"mappings":"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","file":"scripts.min.js","sourcesContent":["function onAuth() {\n\tauthed = true;\n\tlogText('Displaying authed modal.');\n\tmodalMessage('Success!', '<p class=\"lead\">You\\'ve been authorized!</p>');\n\tsetTimeout(function hideModal() {\n\t\t$(\"#notify-modal\").modal(\"hide\");\n\t}, 1000);\n\t$('.cutting-table-template').render(allCuts, renderDirectives);\n\t$('.disabled').prop('disabled', false);\n\t$('.authorize').attr('data-original-title', config.logout);\n\t$('.nuvu-logo').attr('src', '/dist/img/admin-logo.svg');\n}\n\nfunction onFailedauth() {\n\tmodalMessage('Failure', '<p class=\"lead\">Unfortunately, it looks like your password was wrong.</p>');\n\tlogText('Password was wrong. Added to deauths. Shame activated. You\\'re bad and you should feel bad.');\n\tsocketSend({'action':'shame'});\n}\n\nfunction onDeauth() {\n\tauthed = false;\n\tlogText('User has been deauthed.');\n\t$('.cutting-table-template').render(allCuts, renderDirectives);\n\t$('.disabled').prop('disabled', true);\n\t$('.authorize').attr('data-original-title', config.login);\n\t$('.nuvu-logo').attr('src', '/dist/img/logo.svg');\n\tif (config.authactions.indexOf('relmove') != -1) {\n\t\t$(draggable).draggabilly('disable');\n\t}\n}","// put any utilities and functions etc in here\n\nif (!String.prototype.format) {\n\tString.prototype.format = function stringPrototypeFormat() {\n\t\tvar args = arguments;\n\t\treturn this.replace(/{(\\d+)}/g, function matchWithNumber(match, number) {\n\t\t\treturn typeof args[number] != 'undefined' ? args[number] : match;\n\t\t});\n\t};\n}\nif (!String.prototype.repeat) {\n\tString.prototype.repeat = function countThrough(count) {\n\t\t'use strict';\n\t\tif (this === null) {\n\t\t\tthrow new TypeError('can\\'t convert ' + this + ' to object');\n\t\t}\n\t\tvar str = '' + this;\n\t\tcount = +count;\n\t\tif (count != count) {\n\t\t\tcount = 0;\n\t\t}\n\t\tif (count < 0) {\n\t\t\treturn str;\n\t\t}\n\t\tif (count == Infinity) {\n\t\t\tthrow new RangeError('repeat count must be less than infinity');\n\t\t}\n\t\tcount = Math.floor(count);\n\t\tif (str.length === 0 || count === 0) {\n\t\t\treturn '';\n\t\t}\n\t\t// ensuring count is a 31-bit integer allows us to heavily optimize the\n\t\t// main part. But anyway, most current (August 2014) browsers can't handle\n\t\t// strings 1 << 28 chars or longer, so:\n\t\tif (str.length * count >= 1 << 28) {\n\t\t\tthrow new RangeError('repeat count must not overflow maximum string size');\n\t\t}\n\t\tvar rpt = '';\n\t\tfor (;;) {\n\t\t\tif ((count & 1) == 1) {\n\t\t\t\trpt += str;\n\t\t\t}\n\t\t\tcount >>>= 1;\n\t\t\tif (count === 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tstr += str;\n\t\t}\n\t\treturn rpt;\n\t};\n}\n\n\nfunction ensureNumberStringLength(number, len) {\n\treturn '0'.repeat(len - String(number).length) + String(number);\n}\n\n// logs text to devlog on page\nfunction logText(text) {\n\tvar currentTime = new Date();\n\tvar currentDay = ensureNumberStringLength(currentTime.getDate(), 2);\n\tvar currentMonth = months[currentTime.getMonth()];\n\tvar currentYear = currentTime.getFullYear();\n\tvar currentHours = ensureNumberStringLength(currentTime.getHours(), 2);\n\tvar currentMinutes = ensureNumberStringLength(currentTime.getMinutes(), 2);\n\tvar currentSeconds = ensureNumberStringLength(currentTime.getSeconds(), 2);\n\n\tvar timestamp = '[{0}/{1}/{2} {3}:{4}:{5}] '.format(currentDay, currentMonth, currentYear,\n\t\tcurrentHours, currentMinutes, currentSeconds);\n\tif(devLog) {\n\n\t\tvar textArray = text.split('\\n');\n\n\t\tfor (var i = textArray.length - 1; i > 0; i--) {\n\t\t\t$('.log-pre').prepend('<span class=\"log-time\">' + ' '.repeat(23) + '</span> ' + textArray[i] + '\\n');\n\t\t}\n\t\t$('.log-pre').prepend('<span class=\"log-time\"> ' + timestamp + '</span>' + textArray[0] + '\\n');\n\t} else {\n\t\twindow.console.log(timestamp+text);\n\t}\n}\n\n// repopulate action button UUIDs\nfunction populateActions() {\n\tlogText('Populating actions');\n\n\t$('.cutting-table-template tr').each(function dataToTable(index, el) {\n\t\t$(el).attr('data-uuid', allCuts[index].uuid);\n\t\t$(el).attr('data-pos', index);\n\t\t$(el).unbind('click');\n\t});\n\n\t// reinitialize bootstrap tooltips\n\tif(isTouchDevice() === false) {\n\t\t$('[data-toggle=\"tooltip\"]').tooltip();\n\t}\n\n\t// handler to remove a job\n\t$('.remove-job').click(function removeJob() {\n\t\tgoogleAnalytics('send', 'event', 'action', 'click', 'remove job');\n\t\tlogText('removing item ' + $($(this).parents()[1]).attr('data-uuid'));\n\t\tsocketSend({\n\t\t\t'action': 'remove',\n\t\t\t'args': [$($(this).parents()[1]).attr('data-uuid')]\n\t\t});\n\t});\n\n\t// handler to lower a job\n\t$('.lower-priority').click(function lowerPriority() {\n\t\tgoogleAnalytics('send', 'event', 'action', 'click', 'pass job');\n\t\tlogText('passing item ' + $($(this).parents()[1]).attr('data-uuid'));\n\t\tsocketSend({\n\t\t\t'action': 'pass',\n\t\t\t'args': [$($(this).parents()[1]).attr('data-uuid')]\n\t\t});\n\t});\n\n\t// handler to decrement a job\n\t$('.decrement-job').click(function decrementJob() {\n\t\tgoogleAnalytics('send', 'event', 'action', 'click', 'decrement job');\n\t\tlogText('removing item ' + $($(this).parents()[1]).attr('data-uuid'));\n\t\tsocketSend({\n\t\t\t'action': 'decrement',\n\t\t\t'args': [$($(this).parents()[1]).attr('data-uuid')]\n\t\t});\n\t});\n\n\t// handler to increment a job\n\t$('.increment-job').click(function incrementJob() {\n\t\tgoogleAnalytics('send', 'event', 'action', 'click', 'increment job');\n\t\tlogText('passing item ' + $($(this).parents()[1]).attr('data-uuid'));\n\t\tsocketSend({\n\t\t\t'action': 'increment',\n\t\t\t'args': [$($(this).parents()[1]).attr('data-uuid')]\n\t\t});\n\t});\n\n\tif (authed || config.authactions.indexOf('relmove') == -1) {\n\t\t$('.cutting-table-template tr').each(function makeRowsDraggable(index, el) {\n\t\t\tdraggable[index] = this;\n\t\t\t$(this).draggabilly({\n\t\t\t\taxis: 'y',\n\t\t\t\tcontainer: $('.cutting-table-template')//,\n\t\t\t\t// grid: [ 37, 37 ]\n\t\t\t});\n\t\t\t$(this).on('dragStart', function handleDragStart() {\n\t\t\t\t$('[data-toggle=\"tooltip\"]').tooltip('destroy');\n\t\t\t\t$('.cutting-table-template tr:not(.is-dragging) td:nth-child(1) a.glyphicon').addClass('animate-hide');\n\t\t\t});\n\t\t\t$(this).on('dragEnd', function handleDragEnd(event, pointer) {\n\t\t\t\t$('.cutting-table-template tr:not(.is-dragging) td:nth-child(1) a.glyphicon').removeClass('animate-hide');\n\t\t\t\t$('[data-toggle=\"tooltip\"]').tooltip();\n\t\t\t\tsocketSend({\n\t\t\t\t\t'action': 'relmove',\n\t\t\t\t\t'args': [\n\t\t\t\t\t\t$(this).attr('data-uuid'),\n\t\t\t\t\t\tparseInt($(this).attr('data-pos')) + parseInt(Math.round($(this).data('draggabilly').position.y / 37))\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n\n// displays message in a bootstrap modal\nfunction modalMessage(modalTitle, modalBody) {\n\t$('.notify-modal-title').html(modalTitle);\n\t$('.notify-modal-body').html(modalBody);\n\t$('#notify-modal').modal();\n}\n\n// reset a form with thanks to http://stackoverflow.com/questions/680241/resetting-a-multi-stage-form-with-jquery\nfunction resetForm(form) {\n\tform.find('input:text, input:password, input[type=number], input:file, textarea').val(''); // removed 'select'\n\tform.find('input:radio, input:checkbox').removeAttr('checked').removeAttr('selected');\n\tif($(form).selector == '.new-cut-form') {\n\t\tform.find('.selected').prop('selected', true);\n\t}\n}\n\n// adds SID to JSON and sends over websockets if the connection is stable\nfunction socketSend(jdata) {\n\t// if a session ID has been set and the socket is ready\n\tif(typeof SID != \"undefined\" && socket.readyState == 1) {\n\t\tjdata.sid = SID;\n\t\tsocket.send(JSON.stringify(jdata));\n\t} else {\n\t\t// if not sending, log why\n\t\tif(typeof SID != \"undefined\") {\n\t\t\tlogText(\"socketSend() has been called, but SID is undefined.\");\n\t\t}\n\t\tif(socket.readyState != 1) {\n\t\t\tlogText(\"socketSend() has been called, but socket.readyState is not 1. The socket is probably not connected yet.\");\n\t\t}\n\t}\n}\n\n// wrapper for socketSend that changes an item's attribute\nfunction changeAttr(taskid, attrKey, attrVal) {\n\tif(typeof taskid == 'string') {\n\t\tsocketSend({\n\t\t\t'action': 'attr',\n\t\t\t'args': [taskid, attrKey, attrVal]\n\t\t});\n\t} else if(typeof taskid == 'number') {\n\t\tchangeAttr(allCuts[taskid].uuid, attrKey, attrVal);\n\t} else if(typeof taskid == 'object') {\n\t\tchangeAttr($(taskid).attr('data-uuid'), attrKey, attrVal);\n\t} else {\n\t\tlogText('changeAttr() called with invalid taskid type');\n\t}\n}\n\n// read the function name, it says it all\nfunction rickRoll() {\n\tif (easterEggs) {\n\t\tmodalMessage('Never gonna give you up', '<iframe width=\"420\" height=\"315\" src=\"http://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&disablekb=1&controls=0&loop=1&showinfo=0&iv_load_policy=3\" frameborder=\"0\" allowfullscreen></iframe>');\n\t\t$('html').addClass('lol');\n\t}\n\telse {\n\t\tlogText('This is a serious establishment, son. I\\'m dissapointed in you.');\n\t}\n}\n\n// checks if the device is a touch device\nfunction isTouchDevice(){\n\treturn true === ('ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch);\n}\n\n// ga() if Google Analytics is enabled\nfunction googleAnalytics(i, s, o, g, r, a, m){\n\tif (typeof config.google_analytics_key !== 'string' && config.google_analytics_key !== '') {\n\t\tga(i, s, o, g, r, a, m);\n\t}\n}\n","// a function to set up WebSockets\n\nfunction socketSetup() { // god help me\n\n\t// wait until host has a real value\n\twhile(host == 'undefined') {}\n\tsocket = new WebSocket(host);\n\n\t// when websockets connects\n\tsocket.onopen = function handleSocketOpen() {\n\t\t// print to log and consoles\n\t\tlogText('WebSockets connection opened successfully');\n\n\t\t$('#notify-modal').modal('hide');\n\n\t\t// poll for new data and repeat every refreshRate\n\t\tsocketSend({'action': 'null'});\n\t\tsetInterval(function pollForData() {\n\t\t\tif(socket.readyState != socket.CONNECTING) {\n\t\t\t\tsocketSend({'action': 'null'});\n\t\t\t}\n\t\t}, refreshRate);\n\t};\n\n\t// when websockets message\n\tsocket.onmessage = function handleNewMessage(msg) {\n\n\t\t// loads JSON data\n\t\tjsonData = JSON.parse(msg.data);\n\n\t\t// if data is new\n\t\tif(JSON.stringify(jsonData) !== JSON.stringify(oldJsonData)) {\n\t\t\n\t\t\t// deep copy jsonData to oldJsonData\n\t\t\toldJsonData = $.extend({}, jsonData);\n\t\t\t\n\t\t\t// log the new data\n\t\t\tlogText('new JSON received: ' + JSON.stringify(jsonData));\n\n\t\t\t// if being told to render table\n\t\t\tif(jsonData.action == 'display') {\n\n\t\t\t\t// reinitialize full list of cuts\n\t\t\t\tallCuts = [];\n\n\t\t\t\tif (config.admin_mode_enabled) {\n\t\t\t\t\tif (jsonData.auths.indexOf(SID.substring(0, 18)) < 0 && authed) {\n\t\t\t\t\t\tonDeauth();\n\t\t\t\t\t}\n\t\t\t\t\telse if (jsonData.auths.indexOf(SID.substring(0, 18)) >= 0 && !authed) {\n\t\t\t\t\t\tonAuth();\n\t\t\t\t\t}\n\t\t\t\t\telse if (jsonData.deauths.indexOf(SID.substring(0, 18)) >= 0 && !authed) {\n\t\t\t\t\t\tonFailedauth();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// for each priority in list\n\t\t\t\t$(jsonData.queue).each(function loopThroughCuts(index, el) {\n\n\t\t\t\t\t// for each cut in priority\n\t\t\t\t\t$(el).each(function loopThroughCut(arrayIndex, arrayEl) {\n\t\t\t\t\t\t// at this point nothing is human-readable\n\t\t\t\t\t\t// make material human-readable\n\t\t\t\t\t\tdisplayEl = $.extend({}, arrayEl); // deepcopy\n\t\t\t\t\t\tdisplayEl.material = materials[arrayEl.material];\n\t\t\t\t\t\tdisplayEl.priority = priorities[arrayEl.priority];\n\t\t\t\t\t\tvar timetotal = arrayEl.esttime;\n\t\t\t\t\t\tvar hours = Math.floor(timetotal/60);\n\t\t\t\t\t\ttimetotal -= hours*60;\n\t\t\t\t\t\tvar minutes = Math.floor(timetotal);\n\t\t\t\t\t\ttimetotal -= minutes;\n\t\t\t\t\t\tvar seconds = +(timetotal*60).toFixed(2);\n\n\t\t\t\t\t\tvar output = String(hours ? hours+'h' : '') + (minutes && hours ? ' ' : '');\n\t\t\t\t\t\toutput += String(minutes ? minutes+'m' : '') + (seconds && minutes ? ' ' : '');\n\t\t\t\t\t\toutput += String(seconds ? seconds+'s' : '')\n\n\t\t\t\t\t\tdisplayEl.esttime = output;\n\t\t\t\t\t\t// add to full list of cuts\n\t\t\t\t\t\tallCuts = allCuts.concat(displayEl);\n\t\t\t\t\t});\n\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// render allCuts into table\n\t\t\t\t$('.cutting-table-template').render(allCuts, renderDirectives);\n\t\t\t\tpopulateActions();\n\t\t\t}\n\n\t\t} else if(jsonData.action == 'rickroll') {\n\t\t\trickRoll();\n\t\t} else if(jsonData.action == 'refresh' && config.allow_force_refresh) {\n\t\t\twindow.location.reload();\n\t\t}\n\t};\n\n\t// when websockets error\n\tsocket.onerror = function handleWebSocketsError(error) {\n\t\t// go tell a nerd\n\t\tmodalMessage('Error 4', 'Could not connect to socket at ' + host + '. Maybe the backend is not running? This page will try to reconnect every few seconds. <br><br> <button class=\"btn btn-default btn-pink btn-retry\">Retry</button>');\n\n\t\t// set up retry button\n\t\t$('.btn-retry').click(function reloadWithRandom() {\n\t\t\twindow.location = window.location.origin + '?foo=' + Math.floor(Math.random()*11000);\n\t\t});\n\t};\n};\n\n","// gets the config file and parses values\n\n// declare almost all globals here\nvar getConfigFile, config, host, jsonData, socket, materials, priorities, refreshRate, reconnectRate, easterEggs, SID, buttons,\n\t\tauthed = false,\n\t\tallCuts = [],\n\t\tdisplayEl = {},\n\t\tmonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n\t\t\t\t\t\t\t'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n\t\trenderDirectives = {\n\t\t\tpriority: {\n\t\t\t\thtml: function drawCoachMode(params) {\n\t\t\t\t\treturn this.priority + (\n\t\t\t\t\t\tthis.coachmodified ? \n\t\t\t\t\t\t\t' <span class=\"glyphicon glyphicon-cog coach-modified\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"' + config.modified_hover + '\"></span>'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t\tactions: {\n\t\t\t\thtml: function actionDirectiveHTML(params) {\n\t\t\t\t\tvar data = '';\n\t\t\t\t\tfor (var i = 0; i < Object.keys(buttons).length; i++) {\n\t\t\t\t\t\tvar button = Object.keys(buttons)[i];\n\t\t\t\t\t\tif (config.authactions.indexOf(button) == -1 || authed) {\n\t\t\t\t\t\t\tif (button != \"pass\" || !(params.index >= config.pass_depth && config.pass_depth || authed)) {\n\t\t\t\t\t\t\t\tdata += buttons[button];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tdraggable = [];\n\n// generate a session ID\nSID = uuid.v1();\nwindow.console.log('SID: ' + SID);\n\n// fetches config file from server\ngetConfigFile = $.getJSON('/config.json', function getConfigFileFunction() {\n\n\t// config.thing returns thing in the config file\n\tconfig = getConfigFile.responseJSON;\n\n\t// hide and disable log if not enabled\n\tdevLog = config.dev_log;\n\tif(devLog != true) { $('[for=log-checkbox]').remove(); }\n\telse {console.log('Recommended: use the in-page log. Most info goes there.');}\n\tlogText('Log starts here');\n\n\t// log entire config file\n\tlogText('Config file follows: ' + JSON.stringify(config, null, 2));\n\n\t// set host from host and port\n\thost = 'ws://' + config.host + ':' + config.port;\n\n\t// set materials and priorities in the same way\n\tmaterials = config.materials;\n\tpriorities = config.priorities;\n\n\t// set refreshRate and reconnectRate\n\trefreshRate = config.refreshRate;\n\treconnectRate = config.reconnectRate;\n\n\teasterEggs = config.easter_eggs;\n\n\t// render the materials dropdown\n\tif (config.default_material == \"\") {\n\t\t$('#cut-material').append('<option disabled selected value=\"N/A\" class=\"selected\">' + config.material_input + '</option>');\n\t}\n\t\n\tfor(var m in materials) {\n\t\tvar selected = (m === config.default_material ? 'selected' : '');\n\t\t$('#cut-material').append('<option ' + selected + ' value=\"' + m + '\" class=\"'+selected+'\">' + materials[m] + '</option>');\n\t}\n\n\t// render the priorities dropdown\n\tif (config.priority_choose) {\n\t\t$('#priority-dropdown').append('<option disabled selected value=\"-1\" class=\"selected\">' + config.priority_input + '</option>');\n\t}\n\tfor(var p in priorities) {\n\t\tvar disabled = (p < config.default_priority && !config.priority_selection ? 'disabled ' : '');\n\t\tvar selected = (p == config.default_priority && !config.priority_choose ? 'selected' : '');\n\t\t$('#priority-dropdown').append('<option ' + selected + ' value=\"' + String(priorities.length-p-1) + '\"  class=\"'+ disabled + selected + '\">' + priorities[p] + '</option>');\n\t}\n\n\tif (!config.priority_selection) {\n\t\t$('.disabled').prop('disabled', true);\n\t}\n\n\t$('.cut-human-name').attr('placeholder', config.name_input);\n\t$('.cut-time-estimate').attr('placeholder', config.time_input);\n\t$('.cut-human-name').attr('title', config.name_hover);\n\t$('.cut-time-estimate').attr('title', config.time_hover);\n\t$('.cut-material').attr('title', config.material_hover);\n\t$('.priority-dropdown').attr('title', config.priority_hover);\n\n\t$('.action-header').text(config.action_header);\n\t$('.name-header').text(config.name_header);\n\t$('.material-header').text(config.material_header);\n\t$('.time-header').text(config.time_header);\n\t$('.priority-header').text(config.priority_header);\n\n\n\n\tbuttons = {\n\t\t'remove': '\\n<a role=\"button\" tabindex=\"0\" class=\"glyphicon glyphicon-remove remove-job\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"' + config.remove_hover + '\"></a>',\n\t\t'increment': '\\n<a role=\"button\" tabindex=\"0\" class=\"glyphicon glyphicon-chevron-up increment-job\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"' + config.incr_hover + '\"></a>',\n\t\t'decrement': '\\n<a role=\"button\" tabindex=\"0\" class=\"glyphicon glyphicon-chevron-down decrement-job\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"' + config.decr_hover + '\"></a>',\n\t\t'pass': '\\n<a role=\"button\" tabindex=\"0\" class=\"glyphicon glyphicon-triangle-bottom lower-priority\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"' + config.pass_hover + '\"></a>',\n\t\t'relmove': '\\n<a role=\"button\" tabindex=\"0\" class=\"glyphicon glyphicon-menu-hamburger move-job\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"' + config.drag_hover + '\"></a>'\n\t};\n\n\tif (config.admin_mode_enabled) {\n\t\t$('.authorize').click(function handleAuthToggle() {\n\t\t\tif (authed) {\n\t\t\t\tsocketSend({'action': 'deauth'});\n\t\t\t\t$('.authorize').tooltip('hide');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmodalMessage('Authenticate',\n\t\t\t\t\t'<form class=\"login-form\">' +\n\t\t\t\t\t\t'<div class=\"form-group\">' +\n\t\t\t\t\t\t\t'<label for=\"password\">Password</label>' +\n\t\t\t\t\t\t\t'<input type=\"password\" class=\"form-control coach-password\" id=\"password\" placeholder=\"Password\">' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'<button type=\"submit\" class=\"btn btn-default\">Sign in</button>' +\n\t\t\t\t\t'</form>'\n\t\t\t\t);\n\t\t\t\t$('.authorize').tooltip('hide');\n\n\t\t\t\tsetTimeout(function focusPasswordField() {\n\t\t\t\t\t$(\".coach-password\").focus();\n\t\t\t\t}, 500);\n\n\t\t\t\t\n\n\t\t\t\t$('.login-form').submit(function authenticatePassword(event) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif($('#password').val() != '') {\n\t\t\t\t\t\tlogText('Password entered. Attempting auth.');\n\t\t\t\t\t\tsocketSend({\n\t\t\t\t\t\t\t'action': 'auth',\n\t\t\t\t\t\t\t'args': [sha1($('#password').val())]\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t$('.authorize').attr('data-original-title', config.login);\n\t};\n\n\tif(config.google_analytics_key == '') {\n\t\tlogText('Google Analytics tracking is not enabled.');\n\t} else {\n\t\tlogText('Google Analytics tracking is enabled with key ' + config.google_analytics_key);\n\n\t\t(function GAisogram(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function googleAnalyticsFunction(){\n\t\t(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n\t\t\tm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n\t\t})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n\t\tgoogleAnalytics('create', config.google_analytics_key, {\n\t\t\t'cookieDomain': 'none'\n\t\t});\n\n\t\tgoogleAnalytics('send', 'pageview');\n\t}\n\n\tlogText('LaserCutter software is up. Attempting connection to WebSockets host ' + host);\n\tsocketSetup();\n\tsetInterval(function tryToReconnect() {\n\t\tif(typeof reconnectRate != 'undefined' && (typeof socket == 'undefined' || socket.readyState == socket.CLOSED)) {\n\t\t\t// initialize websockets if closed\n\t\t\tlogText('Attempting connection to WebSockets host', host);\n\t\t\tsocketSetup();\n\t\t}\n\t}, reconnectRate);\n\n});","// initialize the things\n\n// holds old and new JSON\n// for comparison to minimize layout thrashing n stuff\nvar oldJsonData = 'uninitialized';\nvar jsonData;\n\n// initialize the modal by changing the title\n$('.notify-modal-title').html('Notification');\n\n// footer\n$.ajax({\n\turl: '/infotext.md',\n\ttype: 'GET'\n})\n.done(function writeInfoText(request) {\n\t$('.credits-footer').before(\n\t\tmarked(request)\n\t);\n})\n.fail(function handleInfoTextFail() {\n\tconsole.log('Failed to get infotext.md');\n});\n\n// focus the first form element on not-mobile\nif(!isTouchDevice()) {\n\t$('.cut-human-name').focus();\n}","// main program\n\n// when jquery is here\n$(document).ready(function documentIsReady() {\n\n\t// when submit button clicked\n\t$('.btn-submit').click(function submitForm(clickAction) {\n\t\tclickAction.preventDefault();\n\t\tlogText(\"submit button clicked\");\n\t\tvar estimate = $('.cut-time-estimate').val().match(/\\d*(\\.\\d+)?/);\n\t\tsocketSend({\n\t\t\t\t'action': 'add',\n\t\t\t\t'args': [\n\t\t\t\t\t$('.cut-human-name').val(), \n\t\t\t\t\t+$('.priority-dropdown').val(), \n\t\t\t\t\t+estimate[0], \n\t\t\t\t\t$('.cut-material').val()\n\t\t\t\t]\n\t\t\t});\n\t\tresetForm($('.new-cut-form'));\n\t\t$('.cut-human-name').focus();\n\t\t\n\t});\n\n\tvar easterEgg = new Konami();\n\teasterEgg.code = function rickRollUser() {\n\t\trickRoll();\n\t};\n\teasterEgg.load();\n\n\t// or this:\n\t// easter_egg.load('https://www.youtube.com/watch?v=dQw4w9WgXcQ');\n\n});"],"sourceRoot":"/source/"}